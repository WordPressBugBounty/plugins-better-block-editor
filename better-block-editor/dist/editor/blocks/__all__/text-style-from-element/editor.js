(()=>{"use strict";var e={3357:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(6087).createContext)({isReady:!1,user:{},base:{},merged:{},globalStylesId:null})},8942:(e,t,n)=>{n.d(t,{Th:()=>u});var r=n(7143),o=n(4744),c=n.n(o),l=n(8270),i=n(3582),a=n(6087),s=(n(473),n(3357)),d=(n(1455),n(790));function u({children:e}){const t=function(){const[e,t,n]=function(){const{globalStylesId:e,userConfig:t}=(0,r.useSelect)((e=>{const{getEntityRecord:t,getEditedEntityRecord:n,canUser:r}=e(i.store),o=e(i.store).__experimentalGetCurrentGlobalStylesId();let c;const l=o?r("update",{kind:"root",name:"globalStyles",id:o}):null;return o&&"boolean"==typeof l&&(c=l?n("root","globalStyles",o):t("root","globalStyles",o,{context:"view"})),{globalStylesId:o,userConfig:c}}),[]);return[e,!!t,t]}(),[o,s]=function(){const e=(0,r.useSelect)((e=>e(i.store).__experimentalGetCurrentThemeBaseGlobalStyles()),[]);return[!!e,e]}(),d=(0,a.useMemo)((()=>{return s&&n?(e=s,t=n,c()(e,t,{isMergeableObject:l.Q,customMerge:e=>{if("backgroundImage"===e)return(e,t)=>t}})):{};var e,t}),[n,s]);return(0,a.useMemo)((()=>({isReady:t&&o,user:n,base:s,merged:d,globalStylesId:e})),[d,n,s,o,t,e])}();return t.isReady?(0,d.jsx)(s.Z.Provider,{value:t,children:e}):null}},7595:(e,t,n)=>{n.d(t,{Th:()=>r.Th,Zb:()=>o.Z});var r=n(8942),o=n(3357)},473:(e,t,n)=>{},383:(e,t,n)=>{n.d(t,{cs:()=>l,gi:()=>i});var r=n(4715),o=n(7143),c=n(3656);function l(){return document.querySelector('iframe[name^="editor-canvas"]')}async function i(e){await async function(e){if("undefined"!=typeof document)return new Promise((t=>{if("complete"===document.readyState||"interactive"===document.readyState)return e&&e(),t();document.addEventListener("DOMContentLoaded",(()=>{e&&e(),t()}))}))}(),await async function(){return new Promise((e=>{const t=(0,o.subscribe)((()=>{((0,o.select)(c.store).isCleanNewPost()||((0,o.select)(c.store).getEditedPostAttribute("title")||"").trim()||(0,o.select)(r.store).getBlockCount()>0)&&(t(),e())}))}))}(),await async function(){return new Promise((e=>{const t=setInterval((()=>{(async function(){const e=document.querySelector('iframe[name="editor-canvas"]');if(e){const t=e.contentWindow.document;return new Promise((n=>{if("complete"===t.readyState)return n(t);e.contentWindow.addEventListener("load",(()=>n(t)))}))}return new Promise((e=>e(document)))})().then((n=>{const r=n.querySelector(".wp-block[data-block]");if(!isNaN(r?.getBoundingClientRect()?.height))return clearInterval(t),e()}))}),100)}))}(),e()}},9079:(e,t,n)=>{n.d(t,{sS:()=>o}),n(9491);var r=n(7143);function o(e){return"default"===(0,r.select)("core/block-editor").getBlockEditingMode(e)}n(6087),n(790)},4744:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function c(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function i(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||o,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(e)?s?a.arrayMerge(e,n,a):function(e,t,n){var o={};return n.isMergeableObject(e)&&c(e).forEach((function(t){o[t]=r(e[t],n)})),c(t).forEach((function(c){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,c)||(l(e,c)&&n.isMergeableObject(t[c])?o[c]=function(e,t){if(!t.customMerge)return i;var n=t.customMerge(e);return"function"==typeof n?n:i}(c,n)(e[c],t[c],n):o[c]=r(t[c],n))})),o}(e,n,a):r(n,a)}i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return i(e,n,t)}),{})};var a=i;e.exports=a},790:e=>{e.exports=window.ReactJSXRuntime},1455:e=>{e.exports=window.wp.apiFetch},4715:e=>{e.exports=window.wp.blockEditor},6427:e=>{e.exports=window.wp.components},9491:e=>{e.exports=window.wp.compose},3582:e=>{e.exports=window.wp.coreData},7143:e=>{e.exports=window.wp.data},3656:e=>{e.exports=window.wp.editor},6087:e=>{e.exports=window.wp.element},2619:e=>{e.exports=window.wp.hooks},7723:e=>{e.exports=window.wp.i18n},5573:e=>{e.exports=window.wp.primitives},4164:(e,t,n)=>{function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",c=arguments.length;n<c;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},8270:(e,t,n)=>{function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{Q:()=>o})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(4715),o=n(6427),c=n(9491),l=n(6087),i=n(2619),a=n(7723),s=n(7595),d=n(383),u=n(9079),h=n(4164),p=n(5573),w=n(790);const b=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})}),m=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm3.622-3.146H16.48V8.19c.007-.19.011-.392.011-.605.007-.213.015-.403.022-.572a3.374 3.374 0 0 1-.528.517l-.902.737-.935-1.166L16.755 5h1.617v7.854Zm-6.145 0h-1.87v-3.3H7.54v3.3H5.66V5h1.88v3.003h2.817V5h1.87v7.854Z"})}),v=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm4.15-3.036h-5.588v-1.265L15.26 9.73c.396-.41.711-.748.946-1.012s.4-.495.495-.693c.103-.205.154-.422.154-.649 0-.271-.08-.473-.242-.605-.161-.132-.37-.198-.627-.198-.271 0-.542.07-.814.209-.271.14-.564.341-.88.605l-1.023-1.199a7 7 0 0 1 .726-.572 3.23 3.23 0 0 1 .902-.44c.352-.117.774-.176 1.265-.176.528 0 .98.095 1.353.286.381.183.675.436.88.759.213.315.32.678.32 1.089 0 .447-.085.85-.254 1.21a4.433 4.433 0 0 1-.748 1.067c-.33.352-.733.744-1.21 1.177l-.814.748v.066H18.9v1.562Zm-7.333 0h-1.87v-3.3H6.881v3.3H5V5.11h1.881v3.003h2.816V5.11h1.87v7.854Z"})}),f=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm3.864-9.152c0 .55-.169.99-.506 1.32-.33.323-.733.543-1.21.66v.033c.63.073 1.111.264 1.441.572.338.308.506.73.506 1.265 0 .44-.113.84-.34 1.199-.228.36-.58.645-1.057.858-.47.213-1.078.319-1.826.319-.462 0-.876-.037-1.243-.11a5.677 5.677 0 0 1-1.056-.319v-1.573c.338.176.69.308 1.056.396.367.08.704.121 1.012.121.557 0 .943-.088 1.155-.264.22-.183.33-.433.33-.748a.811.811 0 0 0-.154-.495c-.103-.147-.286-.257-.55-.33-.257-.073-.62-.11-1.089-.11h-.539V8.223h.55c.447 0 .792-.04 1.034-.121.25-.08.422-.19.517-.33a.888.888 0 0 0 .143-.495c0-.513-.337-.77-1.012-.77-.367 0-.69.066-.968.198a6.913 6.913 0 0 0-.649.341l-.825-1.265a4.56 4.56 0 0 1 1.1-.55c.418-.154.939-.231 1.562-.231.807 0 1.445.161 1.914.484.47.323.704.777.704 1.364Zm-7.047 6.116h-1.87v-3.3H6.881v3.3H5V5.11h1.881v3.003h2.816V5.11h1.87v7.854Z"})}),g=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm4.36-4.719h-.903v1.573H16.37v-1.573h-3.256V9.939L16.48 5h1.727v4.851h.902v1.43Zm-2.74-2.563c0-.147.004-.326.011-.539l.022-.583a3.73 3.73 0 0 1 .022-.33h-.055a5.671 5.671 0 0 1-.198.418c-.066.117-.146.25-.242.396l-1.177 1.771h1.617V8.718Zm-4.803 4.136h-1.87v-3.3H6.881v3.3H5V5h1.881v3.003h2.816V5h1.87v7.854Z"})}),y=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm1.598-8.228c.462 0 .877.095 1.243.286.367.19.656.47.87.836.212.367.318.81.318 1.331 0 .865-.264 1.54-.792 2.024-.52.477-1.309.715-2.365.715-.887 0-1.61-.143-2.167-.429v-1.573c.271.14.598.26.98.363a4.55 4.55 0 0 0 1.077.143c.447 0 .788-.092 1.023-.275.242-.19.363-.477.363-.858 0-.345-.12-.609-.363-.792-.235-.19-.598-.286-1.089-.286-.198 0-.4.022-.605.066a8.063 8.063 0 0 0-.528.11l-.715-.363.297-4.07h4.356v1.573h-2.75l-.12 1.309c.117-.022.241-.044.373-.066.14-.03.338-.044.594-.044Zm-4.781 5.082h-1.87v-3.3H6.881v3.3H5V5h1.881v3.003h2.816V5h1.87v7.854Z"})}),x=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm-1.438-6.38c0-.447.03-.891.088-1.331.066-.447.184-.869.352-1.265.169-.396.403-.744.704-1.045.3-.308.686-.546 1.155-.715.47-.176 1.041-.264 1.716-.264.154 0 .337.007.55.022.213.015.393.037.54.066v1.474a4.296 4.296 0 0 0-.485-.066 4.456 4.456 0 0 0-.572-.033c-.594 0-1.06.092-1.397.275-.33.183-.564.444-.704.781s-.22.73-.242 1.177h.066c.14-.257.338-.473.594-.649.264-.176.609-.264 1.034-.264.69 0 1.232.22 1.628.66.396.44.594 1.06.594 1.859 0 .865-.245 1.544-.737 2.035-.484.484-1.144.726-1.98.726a3.007 3.007 0 0 1-1.474-.363c-.44-.25-.788-.627-1.045-1.133-.256-.513-.385-1.162-.385-1.947Zm2.871 1.947a.838.838 0 0 0 .671-.297c.176-.198.264-.51.264-.935 0-.337-.073-.605-.22-.803-.146-.198-.378-.297-.693-.297-.315 0-.568.103-.759.308a.988.988 0 0 0-.275.671c0 .213.037.425.11.638.073.205.183.378.33.517a.848.848 0 0 0 .572.198Zm-4.616 1.386h-1.87v-3.3H6.881v3.3H5V5.099h1.881v3.003h2.816V5.099h1.87v7.854Z"})}),j=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm-.24-2.778H13V5.919h-1.622v7.303H9.871V9.219h-.253c-.594 0-1.089-.106-1.485-.319a2.1 2.1 0 0 1-.858-.858A2.552 2.552 0 0 1 7 6.865c0-.425.092-.818.275-1.177.183-.36.47-.645.858-.858.396-.22.891-.33 1.485-.33h4.892v8.722Z"})}),H=(0,w.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,w.jsx)(p.Path,{d:"M14.75 16c.98 0 1.812.626 2.121 1.5H19V19h-2.129a2.25 2.25 0 0 1-4.242 0H5v-1.5h7.629A2.25 2.25 0 0 1 14.75 16Zm1.965-9.273c.785 0 1.394.183 1.826.55.433.367.65.902.65 1.606v4.004h-1.288l-.363-.814h-.044c-.256.33-.528.568-.814.715-.286.14-.678.209-1.177.209-.535 0-.979-.158-1.33-.473-.353-.315-.529-.803-.529-1.463 0-.638.224-1.111.671-1.419.455-.315 1.119-.491 1.991-.528l1.034-.033v-.176c0-.293-.077-.506-.23-.638-.147-.132-.353-.198-.617-.198s-.539.044-.825.132a7.27 7.27 0 0 0-.869.308l-.56-1.232a4.5 4.5 0 0 1 1.121-.407 6.078 6.078 0 0 1 1.353-.143Zm.066 3.432c-.462.015-.784.099-.968.253a.733.733 0 0 0-.275.605c0 .227.066.392.198.495a.8.8 0 0 0 .506.154c.308 0 .569-.092.781-.275.213-.19.32-.447.32-.77v-.484l-.562.022Zm-6.05 2.728-.484-1.683H7.53l-.484 1.683H5L7.673 5h2.398l2.706 7.887h-2.046ZM9.367 8.069a28.214 28.214 0 0 0-.154-.528 33.251 33.251 0 0 0-.187-.693 29.203 29.203 0 0 1-.143-.594 7.44 7.44 0 0 1-.143.605 86.53 86.53 0 0 1-.176.693c-.059.22-.106.392-.143.517l-.462 1.573h1.87l-.462-1.573Z"})}),S=[{value:void 0,icon:b,label:(0,a.__)("Default style","better-block-editor")},{value:"p",icon:j,label:(0,a.__)("Paragraph","better-block-editor")},{value:"h1",icon:m,label:(0,a.__)("Heading 1","better-block-editor")},{value:"h2",icon:v,label:(0,a.__)("Heading 2","better-block-editor")},{value:"h3",icon:f,label:(0,a.__)("Heading 3","better-block-editor")},{value:"h4",icon:g,label:(0,a.__)("Heading 4","better-block-editor")},{value:"h5",icon:y,label:(0,a.__)("Heading 5","better-block-editor")},{value:"h6",icon:x,label:(0,a.__)("Heading 6","better-block-editor")}],_={className:"block-library-heading-level-dropdown"};function V({value:e,onChange:t}){var n;return(0,w.jsx)(o.ToolbarDropdownMenu,{popoverProps:_,icon:(0,w.jsx)(o.Icon,{icon:void 0===e?H:null!==(n=S.find((t=>t.value===(null!=e?e:null)))?.icon)&&void 0!==n?n:S[0].icon}),label:(0,a.__)("Change style","better-block-editor"),controls:S.map((({value:n,icon:r,label:c})=>({icon:(0,w.jsx)(o.Icon,{icon:r}),title:c,isActive:n===e,onClick(){t(n)},role:"menuitemradio"})))})}const k="wpbbe-text-style-from-element-",M="wpbbe-editor-text-style-from-element",Z={"font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","line-height":"lineHeight","letter-spacing":"letterSpacing","text-transform":"textTransform"},O=["h1","h2","h3","h4","h5","h6"];function P(e){if(e?.color?.text)return!0;if(e?.typography)for(const t of Object.values(Z))if(e.typography[t])return!0;return!1}function E(e){let t="";for(const[n,r]of Object.entries(Z)){const o=e?.typography[r];o&&(t+=`  ${n}: ${o};\n`)}return t}const A=["core/post-title","core/post-excerpt","core/heading","core/paragraph"],B=()=>{const e=(0,l.useContext)(s.Zb),{isReady:t,merged:n}=e;return t&&function(e){var t;const n=null!==(t=(0,d.cs)()?.contentWindow)&&void 0!==t?t:window;if(!n.document.body)return;let r=n.document.getElementById(M);r||(r=n.document.createElement("style"),r.id=M,n.document.head.appendChild(r));const o=function(e){let t="";P(e?.styles?.elements?.heading)&&(O.forEach(((e,n)=>{t+=`.${k}${e}.${k}${e}`,n<O.length-1&&(t+=", \n")})),t+=" { \n"+E(e.styles.elements.heading)+"\n}\n\n");for(const n of O)P(e?.styles?.elements?.[n])&&(t+=`.${k}${n}.${k}${n}`,t+="{\n"+E(e.styles.elements[n])+"\n}\n\n");return P(e?.styles)&&(t+=`.${k}p.${k}p`,t+=" {\n"+E(e.styles)+"\n}\n\n"),t}(e);r.innerHTML!==o&&(r.innerHTML=o)}(n),null};function C(){const e="wpbbe-test-style-from-element-wrapper",t=window.top.document.getElementById("wpwrap");if(t&&!t.querySelector("."+e)){const n=document.createElement("div");n.classList.add(e),(0,l.createRoot)(n).render((0,w.jsx)(s.Th,{children:(0,w.jsx)(B,{})})),t.after(n)}}function I(e){return A.includes(e)}(0,d.gi)(C),window.addEventListener("urlchangeevent",(()=>{(0,d.gi)(C)}));const L=(0,c.createHigherOrderComponent)((e=>t=>{const{setAttributes:n,isSelected:c,clientId:l,name:i,attributes:{wpbbeTextStyleFromElement:s,wpbbeRoleHeading:d=!1}}=t;return I(i)&&(0,u.sS)(l)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(e,{...t}),c&&(0,w.jsxs)(w.Fragment,{children:["core/paragraph"===i&&(0,w.jsx)(r.InspectorControls,{group:"advanced",children:(0,w.jsx)(o.BaseControl,{__nextHasNoMarginBottom:!0,children:(0,w.jsx)(o.ToggleControl,{checked:d,onChange:e=>n({wpbbeRoleHeading:e}),label:(0,a.__)("Apply role=“heading”","better-block-editor"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,...t})})}),(0,w.jsx)(r.BlockControls,{group:"block",children:(0,w.jsx)(V,{value:s,onChange:e=>n({wpbbeTextStyleFromElement:null===e?void 0:e})})})]})]}):(0,w.jsx)(e,{...t})}),"extendBlockEdit"),T=(0,c.createHigherOrderComponent)((e=>t=>{const{name:n,attributes:{wpbbeTextStyleFromElement:r}}=t;if(!I(n)||!r)return(0,w.jsx)(e,{...t});const o={...t.wrapperProps,className:(0,h.A)(t.wrapperProps?.className,k+r)};return(0,w.jsx)(e,{...t,wrapperProps:o})}),"renderInEditor");(0,i.addFilter)("blocks.registerBlockType","wpbbe/__all__/text-style-from-element/modify-block-data",(function(e){return{...e,attributes:{...e.attributes,wpbbeTextStyleFromElement:{type:"string"},wpbbeRoleHeading:{type:"boolean"}}}})),(0,i.addFilter)("editor.BlockEdit","wpbbe/__all__/text-style-from-element/edit-block",L),(0,i.addFilter)("editor.BlockListBlock","wpbbe/__all__/text-style-from-element/render-in-editor",T)})();