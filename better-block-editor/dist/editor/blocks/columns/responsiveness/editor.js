(()=>{var e={7871:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>r,iS:()=>s,kX:()=>o});const o="",r="mobile",s="custom"},2845:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>i.Pj,kX:()=>i.kX,xC:()=>a});var o=n(7030),r=n(6427),s=n(7723),i=n(7871),c=n(9876),l=n(790);function a({value:e,label:t=(0,s.__)("Breakpoint","better-block-editor"),unsupportedValues:n=[],onChange:a,help:u,...p}){let d=[{name:(0,s.__)("Off","better-block-editor"),key:i.kX}];(0,c.k)().filter((e=>!0===e.active)).forEach((e=>{d.push({name:e.name,key:e.key})})),d.push({name:(0,s.__)("Custom","better-block-editor"),key:i.iS}),d=d.filter((e=>!n.includes(e.key)));const b=(0,o.Q)(),{breakpoint:m=i.kX,breakpointCustomValue:k}=null!=e?e:{};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.BaseControl,{className:"wpbbe-responsive-breakpoint-control",__nextHasNoMarginBottom:!0,children:[(0,l.jsx)(r.CustomSelectControl,{...p,label:t,hideLabelFromVision:!t,value:d.find((e=>e.key===m))||d[0],options:d,onChange:e=>a({breakpoint:e.selectedItem.key}),__next40pxDefaultSize:!0}),u&&m!==i.iS&&(0,l.jsx)("p",{className:"components-base-control__help",children:u})]}),m===i.iS&&(0,l.jsx)(r.__experimentalUnitControl,{value:k,onChange:e=>a({breakpointCustomValue:e}),units:b,size:"__unstable-large",help:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})}},1231:(e,t,n)=>{"use strict";n.d(t,{iS:()=>r,kX:()=>o}),n(6427),n(7723),n(9876),n(790);const o="",r="custom"},8969:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});const o="wpbbe-"},6954:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var o=n(6942),r=n.n(o);function s(e){return e.split(" ").map((e=>e.trim())).filter((e=>""!==e))}function i(e="",t=""){const n=s(e),o=s(t),i=[...n,...o.filter((e=>!n.includes(e)))];return r()(i)}},4197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(6087),r=n(790);const s=(0,o.forwardRef)(((e,t)=>(0,r.jsx)("div",{className:"wpbbe-ref-anchor",ref:t,...e})))},9876:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const o=window.WPBBE_DATA||{};function r(){return o?.breakpoints||[]}},3604:(e,t,n)=>{"use strict";n.d(t,{KZ:()=>l,Zx:()=>a,PE:()=>u});var o=n(1231),r=n(9748),s=n(4715),i=n(7143),c=n(6087);function l(e){const{clientId:t}=(0,s.useBlockEditContext)(),n=(0,i.select)("core/block-editor").getBlockAttributes(t);(0,c.useEffect)((()=>{if(n?.wpbbeResponsive&&(0,r.mg)(n.wpbbeResponsive?.breakpoint)&&!(0,r.wK)(n.wpbbeResponsive?.breakpoint)){const t=o.iS,s=(0,r.Lk)(n.wpbbeResponsive.breakpoint);e({wpbbeResponsive:{...n.wpbbeResponsive,breakpoint:t,breakpointCustomValue:s}})}}),[e,n?.wpbbeResponsive])}function a(e,t={}){var n;const{clientId:r}=(0,s.useBlockEditContext)(),{wpbbeResponsive:c={}}=null!==(n=(0,i.select)("core/block-editor").getBlockAttributes(r))&&void 0!==n?n:{};return n=>{var r;const s={...c,...n,settings:{...t,...null!==(r=c.settings)&&void 0!==r?r:{}}};s.breakpoint!==o.kX?(s.breakpointCustomValue=s.breakpoint===o.iS?s.breakpointCustomValue:void 0,e({wpbbeResponsive:s})):e({wpbbeResponsive:void 0})}}function u(e){var t;const{clientId:n}=(0,s.useBlockEditContext)(),{wpbbeResponsive:o={}}=null!==(t=(0,i.select)("core/block-editor").getBlockAttributes(n))&&void 0!==t?t:{};return t=>{var n;e({wpbbeResponsive:{...o,settings:{...null!==(n=o.settings)&&void 0!==n?n:{},...t}}})}}window.wpbbe=window.wpbbe||{},window.wpbbe.groupBlockModeRegistry=new Map},7030:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var o=n(6427);function r(){return(0,o.__experimentalUseCustomUnits)({availableUnits:["px","em","rem","vw","vh"]})}},9748:(e,t,n)=>{"use strict";n.d(t,{BO:()=>a,Lk:()=>i,mg:()=>c,v6:()=>u,wK:()=>l});var o=n(1231),r=n(9876);function s(e){return(0,r.k)().find((t=>t.key===e))}function i(e){return s(e)?.value}function c(e){return!!s(e)}function l(e){return s(e)?.active}function a(e,t){if(e===o.iS)return t;const n=s(e);return n?n.value:void 0}function u(e){return e===o.kX}},9079:(e,t,n)=>{"use strict";n.d(t,{L2:()=>l,sS:()=>c});var o=n(9491),r=n(7143),s=n(6087),i=n(790);function c(e){return"default"===(0,r.select)("core/block-editor").getBlockEditingMode(e)}function l(e,t){return(0,o.createHigherOrderComponent)((n=>o=>{const r=(0,s.useMemo)((()=>t(n)),[]);return e(o)?(0,i.jsx)(r,{...o}):(0,i.jsx)(n,{...o})}),"blockEditWithEarlyReturn")}},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},4715:e=>{"use strict";e.exports=window.wp.blockEditor},4997:e=>{"use strict";e.exports=window.wp.blocks},6427:e=>{"use strict";e.exports=window.wp.components},9491:e=>{"use strict";e.exports=window.wp.compose},3582:e=>{"use strict";e.exports=window.wp.coreData},7143:e=>{"use strict";e.exports=window.wp.data},6087:e=>{"use strict";e.exports=window.wp.element},2619:e=>{"use strict";e.exports=window.wp.hooks},7723:e=>{"use strict";e.exports=window.wp.i18n},4753:e=>{"use strict";e.exports=window.wpbbe["editor-css-store"]},6942:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(2845),t=n(8969),o=n(6954),r=n(4197),s=n(3604),i=n(9748),c=n(9079),l=n(4715),a=n(4997),u=n(6427),p=n(9491),d=n(7143),b=n(6087),m=n(2619),k=n(7723),w=n(4753);const v="blocks__core_columns__stack-on-responsive";window.wp.blob,n(3582);const f=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function x(e,t){const{width:n=100/t}=e.attributes;return f(n)}function g(e,t,n=e.length){const o=function(e,t=e.length){return e.reduce(((e,n)=>e+x(n,t)),0)}(e,n);return Object.fromEntries(Object.entries(function(e,t=e.length){return e.reduce(((e,n)=>{const o=x(n,t);return Object.assign(e,{[n.clientId]:o})}),{})}(e,n)).map((([e,n])=>[e,f(t*n/o)])))}function h(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}var _=n(790);const C="core/columns";function y(e){return e.name===C}function j(t){var n,o;const{breakpoint:r=(t.isStackedOnMobile?e.Pj:e.kX),breakpointCustomValue:s,settings:{reverseOrder:i=null!==(n=t?.wpbbeResponsive?.settings?.reverseOrder)&&void 0!==n&&n}={}}=null!==(o=t?.wpbbeResponsive)&&void 0!==o?o:{};return{breakpoint:r,breakpointCustomValue:s,settings:{reverseOrder:i}}}const B=(0,p.createHigherOrderComponent)((n=>o=>{const{attributes:m,setAttributes:x,clientId:C,isSelected:y}=o,{breakpoint:B,breakpointCustomValue:S,settings:{reverseOrder:R}}=j(m);(0,s.KZ)(x);const{count:O,canInsertColumnBlock:V,minCount:E}=(0,d.useSelect)((e=>{const{canInsertBlockType:t,canRemoveBlock:n,getBlockOrder:o}=e(l.store),r=o(C),s=r.reduce(((e,t,o)=>(n(t)||e.push(o),e)),[]);return{count:r.length,canInsertColumnBlock:t("core/column",C),minCount:Math.max(...s)+1}}),[C]),{getBlocks:I}=(0,d.useSelect)(l.store),{replaceInnerBlocks:M}=(0,d.useDispatch)(l.store);function N(e,t){let n=I(C);const o=n.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),r=t>e;if(r&&o){const o=f(100/t),r=t-e;n=[...h(n,g(n,100-o*r)),...Array.from({length:r}).map((()=>(0,a.createBlock)("core/column",{width:`${o}%`})))]}else r?n=[...n,...Array.from({length:t-e}).map((()=>(0,a.createBlock)("core/column")))]:t<e&&(n=n.slice(0,-(e-t)),o)&&(n=h(n,g(n,100)));M(C,n)}const P=(0,p.useViewportMatch)("medium","<")?{}:{popoverProps:{placement:"left-start",offset:259}},F=(0,b.useMemo)((()=>function(n,o){var r;const{breakpoint:s,breakpointCustomValue:c,settings:{reverseOrder:l}}=j(n);if(s===e.kX)return null;const a=null!==(r=(0,i.BO)(s,c))&&void 0!==r?r:"0px",u=`.wp-block-columns.${t.V+o}`,p=`${u}:not(.is-not-stacked-on-mobile)`;return[`${u} {\n\t\t\tflex-wrap: nowrap !important;\n\t\t}`,`@media screen and (width <= ${a}) {\n\t\t\t${p} {\n\t\t\t\tflex-direction: ${l?"column-reverse":"column"} !important;\n\t\t\t\talign-items: stretch !important;\n\t\t\t}\n\t\t\t\n\t\t\t/* \n\t\t\t\twe increase specificity here to overwrite css added in columnRenderInEditor() \n\t\t\t\twe change flex-direction, so flex-basis (wich is used to provide width) has no sense any more   \n\t\t\t*/\n\t\t\t${p} > .wp-block-column.wp-block-column.wp-block-column {\n\t\t\t\tflex-basis: auto !important;\n\t\t\t\twidth: auto;\n\t\t\t\tflex-grow: 1;\n\t\t\t\talign-self: auto !important;\n\t\t\t}\n\t\t}`,`@media screen and (width > ${a}) {\n\t\t\t${p} > .wp-block-column {\n\t\t\t\tflex-basis: 0 !important;\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\n\t\t\t${p} > .wp-block-column[style*=flex-basis] {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}`]}(m,C)),[m,C]),$=(0,w.useAddEditorStyle)(F,v+"__"+C),A=(0,s.PE)(x),X=(0,s.Zx)((e=>{var t,n;e.wpbbeResponsive&&(e.wpbbeResponsive?.settings||(e.wpbbeResponsive.settings={}),null!==(n=(t=e.wpbbeResponsive.settings).reverseOrder)&&void 0!==n||(t.reverseOrder=R)),e.isStackedOnMobile=!!e.wpbbeResponsive&&!(0,i.v6)(e.wpbbeResponsive?.breakpoint),x(e)})),D=(0,d.useSelect)((e=>e(l.store).getBlocks(C).length>0),[C]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.Z,{ref:$}),(0,_.jsx)(n,{...o}),y&&D&&(0,c.sS)(C)&&(0,_.jsx)(l.InspectorControls,{children:(0,_.jsxs)(u.__experimentalToolsPanel,{label:(0,k.__)("Settings","better-block-editor"),className:"wpbbe wpbbe-responsiveness",resetAll:()=>{N(O,E),x({wpbbeResponsive:void 0,isStackedOnMobile:!0})},dropdownMenuProps:P,children:[V&&(0,_.jsx)(u.__experimentalToolsPanelItem,{label:(0,k.__)("Columns"),isShownByDefault:!0,hasValue:()=>O,onDeselect:()=>N(O,E),children:(0,_.jsxs)(u.__experimentalVStack,{spacing:4,children:[(0,_.jsx)(u.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,k.__)("Columns"),value:O,onChange:e=>N(O,Math.max(E,e)),min:Math.max(1,E),max:Math.max(6,O)}),O>6&&(0,_.jsx)(u.Notice,{status:"warning",isDismissible:!1,children:(0,k.__)("This column count exceeds the recommended amount and may cause visual breakage.")})]})}),(0,_.jsxs)(u.__experimentalToolsPanelItem,{label:(0,k.__)("Stack on","better-block-editor"),isShownByDefault:!0,hasValue:()=>!!m.wpbbeResponsive,onDeselect:()=>X({breakpoint:e.kX}),children:[(0,_.jsx)(e.xC,{label:(0,k.__)("Stack on","better-block-editor"),value:{breakpoint:B,breakpointCustomValue:S},onChange:X}),!(0,i.v6)(B)&&(0,_.jsx)(u.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,k.__)("Reverse order","better-block-editor"),className:"wpbbe stack-on-reverse-order",checked:R,onChange:e=>A({reverseOrder:e})})]})]})})]})}),"extendBlockEdit"),S=(0,p.createHigherOrderComponent)((e=>n=>{const{className:r,clientId:s}=n;return y(n)?(0,_.jsx)(e,{...n,className:(0,o.T)(r,t.V+s)}):(0,_.jsx)(e,{...n})}),"columnsRenderInEditor"),R=(0,p.createHigherOrderComponent)((e=>n=>{if("core/column"!==n.name||!n?.attributes.width)return(0,_.jsx)(e,{...n});const s=t.V+n.clientId,i=`\n\t\t.wp-block-columns:not(.is-not-stacked-on-mobile) > .wp-block-column.${s}[style*=flex-basis] {\n\t\t\tflex-basis: ${n.attributes.width} !important;\n\t\t}\n\t\t`,c=(0,w.useAddEditorStyle)(i,v+"__"+n.clientId);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.Z,{ref:c}),(0,_.jsx)(e,{...n,className:(0,o.T)(n.className,s)})]})}),"columnRenderInEditor");(0,m.addFilter)("blocks.registerBlockType","wpbbe/columns/stack-on-responsive/modify-block-data",(function(e,t){return t!==C?e:{...e,attributes:{...e.attributes,wpbbeResponsive:{breakpoint:{type:"string"},breakpointCustomValue:{type:"string"},settings:{reverseOrder:{type:"boolean"}}}}}})),(0,m.addFilter)("editor.BlockEdit","wpbbe/columns/stack-on-responsive/edit-block",(0,c.L2)(y,B)),(0,m.addFilter)("editor.BlockListBlock","wpbbe/columns/stack-on-responsive/columns-render-in-editor",S),(0,m.addFilter)("editor.BlockListBlock","wpbbe/columns/stack-on-responsive/column-render-in-editor",R)})()})();