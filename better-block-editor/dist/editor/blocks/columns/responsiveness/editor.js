(()=>{var e={7871:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>r,iS:()=>s,kX:()=>o});const o="",r="mobile",s="custom"},2845:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>i.Pj,kX:()=>i.kX,xC:()=>a});var o=n(7030),r=n(6427),s=n(7723),i=n(7871),c=n(9876),l=n(790);function a({value:e,label:t=(0,s.__)("Breakpoint","better-block-editor"),unsupportedValues:n=[],onChange:a,help:u,...p}){let b=[{name:(0,s.__)("Off","better-block-editor"),key:i.kX}];(0,c.k)().filter((e=>!0===e.active)).forEach((e=>{b.push({name:e.name,key:e.key})})),b.push({name:(0,s.__)("Custom","better-block-editor"),key:i.iS}),b=b.filter((e=>!n.includes(e.key)));const d=(0,o.Q)(),{breakpoint:m=i.kX,breakpointCustomValue:k}=null!=e?e:{};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.BaseControl,{className:"wpbbe-responsive-breakpoint-control",__nextHasNoMarginBottom:!0,children:[(0,l.jsx)(r.CustomSelectControl,{...p,label:t,hideLabelFromVision:!t,value:b.find((e=>e.key===m))||b[0],options:b,onChange:e=>a({breakpoint:e.selectedItem.key}),__next40pxDefaultSize:!0}),u&&m!==i.iS&&(0,l.jsx)("p",{className:"components-base-control__help",children:u})]}),m===i.iS&&(0,l.jsx)(r.__experimentalUnitControl,{value:k,onChange:e=>a({breakpointCustomValue:e}),units:d,size:"__unstable-large",help:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})}},1231:(e,t,n)=>{"use strict";n.d(t,{iS:()=>r,kX:()=>o}),n(6427),n(7723),n(9876),n(790);const o="",r="custom"},8969:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});const o="wpbbe-"},6954:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var o=n(6942),r=n.n(o);function s(e){return e.split(" ").map((e=>e.trim())).filter((e=>""!==e))}function i(e="",t=""){const n=s(e),o=s(t),i=[...n,...o.filter((e=>!n.includes(e)))];return r()(i)}},9876:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const o=window.WPBBE_DATA||{};function r(){return o?.breakpoints||[]}},3604:(e,t,n)=>{"use strict";n.d(t,{KZ:()=>l,Zx:()=>a,PE:()=>u});var o=n(1231),r=n(9748),s=n(4715),i=n(7143),c=n(6087);function l(e){const{clientId:t}=(0,s.useBlockEditContext)(),n=(0,i.select)("core/block-editor").getBlockAttributes(t);(0,c.useEffect)((()=>{if(n?.wpbbeResponsive&&(0,r.mg)(n.wpbbeResponsive?.breakpoint)&&!(0,r.wK)(n.wpbbeResponsive?.breakpoint)){const t=o.iS,s=(0,r.Lk)(n.wpbbeResponsive.breakpoint);e({wpbbeResponsive:{...n.wpbbeResponsive,breakpoint:t,breakpointCustomValue:s}})}}),[e,n?.wpbbeResponsive])}function a(e,t={}){var n;const{clientId:r}=(0,s.useBlockEditContext)(),{wpbbeResponsive:c={}}=null!==(n=(0,i.select)("core/block-editor").getBlockAttributes(r))&&void 0!==n?n:{};return n=>{var r;const s={...c,...n,settings:{...t,...null!==(r=c.settings)&&void 0!==r?r:{}}};s.breakpoint!==o.kX?(s.breakpointCustomValue=s.breakpoint===o.iS?s.breakpointCustomValue:void 0,e({wpbbeResponsive:s})):e({wpbbeResponsive:void 0})}}function u(e){var t;const{clientId:n}=(0,s.useBlockEditContext)(),{wpbbeResponsive:o={}}=null!==(t=(0,i.select)("core/block-editor").getBlockAttributes(n))&&void 0!==t?t:{};return t=>{var n;e({wpbbeResponsive:{...o,settings:{...null!==(n=o.settings)&&void 0!==n?n:{},...t}}})}}window.wpbbe=window.wpbbe||{},window.wpbbe.groupBlockModeRegistry=new Map},7030:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var o=n(6427);function r(){return(0,o.__experimentalUseCustomUnits)({availableUnits:["px","em","rem","vw","vh"]})}},9748:(e,t,n)=>{"use strict";n.d(t,{BO:()=>a,Lk:()=>i,mg:()=>c,v6:()=>u,wK:()=>l});var o=n(1231),r=n(9876);function s(e){return(0,r.k)().find((t=>t.key===e))}function i(e){return s(e)?.value}function c(e){return!!s(e)}function l(e){return s(e)?.active}function a(e,t){if(e===o.iS)return t;const n=s(e);return n?n.value:void 0}function u(e){return e===o.kX}},9079:(e,t,n)=>{"use strict";n.d(t,{L2:()=>l,sS:()=>c});var o=n(9491),r=n(7143),s=n(6087),i=n(790);function c(e){return"default"===(0,r.select)("core/block-editor").getBlockEditingMode(e)}function l(e,t){return(0,o.createHigherOrderComponent)((n=>o=>{const r=(0,s.useMemo)((()=>t(n)),[]);return e(o)?(0,i.jsx)(r,{...o}):(0,i.jsx)(n,{...o})}),"blockEditWithEarlyReturn")}},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},4715:e=>{"use strict";e.exports=window.wp.blockEditor},4997:e=>{"use strict";e.exports=window.wp.blocks},6427:e=>{"use strict";e.exports=window.wp.components},9491:e=>{"use strict";e.exports=window.wp.compose},3582:e=>{"use strict";e.exports=window.wp.coreData},7143:e=>{"use strict";e.exports=window.wp.data},6087:e=>{"use strict";e.exports=window.wp.element},2619:e=>{"use strict";e.exports=window.wp.hooks},7723:e=>{"use strict";e.exports=window.wp.i18n},4753:e=>{"use strict";e.exports=window.wpbbe["editor-css-store"]},6942:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(4715),t=n(4997),o=n(6427),r=n(9491),s=n(7143),i=n(6087),c=n(2619),l=n(7723),a=n(2845),u=n(8969),p=n(6954),b=n(3604),d=n(9748),m=n(9079),k=n(4753);const w="blocks__core_columns__stack-on-responsive";window.wp.blob,n(3582);const v=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function f(e,t){const{width:n=100/t}=e.attributes;return v(n)}function x(e,t,n=e.length){const o=function(e,t=e.length){return e.reduce(((e,n)=>e+f(n,t)),0)}(e,n);return Object.fromEntries(Object.entries(function(e,t=e.length){return e.reduce(((e,n)=>{const o=f(n,t);return Object.assign(e,{[n.clientId]:o})}),{})}(e,n)).map((([e,n])=>[e,v(t*n/o)])))}function g(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}var h=n(790);const _="core/columns";function C(e){return e.name===_}function y(e){var t,n;const{breakpoint:o=(e.isStackedOnMobile?a.Pj:a.kX),breakpointCustomValue:r,settings:{reverseOrder:s=null!==(t=e?.wpbbeResponsive?.settings?.reverseOrder)&&void 0!==t&&t}={}}=null!==(n=e?.wpbbeResponsive)&&void 0!==n?n:{};return{breakpoint:o,breakpointCustomValue:r,settings:{reverseOrder:s}}}const B=(0,r.createHigherOrderComponent)((n=>c=>{const{attributes:p,setAttributes:f,clientId:_,isSelected:C}=c,{breakpoint:B,breakpointCustomValue:j,settings:{reverseOrder:R}}=y(p);(0,b.KZ)(f);const{count:S,canInsertColumnBlock:O,minCount:V}=(0,s.useSelect)((t=>{const{canInsertBlockType:n,canRemoveBlock:o,getBlockOrder:r}=t(e.store),s=r(_),i=s.reduce(((e,t,n)=>(o(t)||e.push(n),e)),[]);return{count:s.length,canInsertColumnBlock:n("core/column",_),minCount:Math.max(...i)+1}}),[_]),{getBlocks:E}=(0,s.useSelect)(e.store),{replaceInnerBlocks:I}=(0,s.useDispatch)(e.store);function M(e,n){let o=E(_);const r=o.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),s=n>e;if(s&&r){const r=v(100/n),s=n-e;o=[...g(o,x(o,100-r*s)),...Array.from({length:s}).map((()=>(0,t.createBlock)("core/column",{width:`${r}%`})))]}else s?o=[...o,...Array.from({length:n-e}).map((()=>(0,t.createBlock)("core/column")))]:n<e&&(o=o.slice(0,-(e-n)),r)&&(o=g(o,x(o,100)));I(_,o)}const N=(0,r.useViewportMatch)("medium","<")?{}:{popoverProps:{placement:"left-start",offset:259}},P=(0,i.useMemo)((()=>function(e,t){var n;const{breakpoint:o,breakpointCustomValue:r,settings:{reverseOrder:s}}=y(e);if(o===a.kX)return null;const i=null!==(n=(0,d.BO)(o,r))&&void 0!==n?n:"0px",c=`.wp-block-columns.${u.V+t}`,l=`${c}:not(.is-not-stacked-on-mobile)`;return[`${c} {\n\t\t\tflex-wrap: nowrap !important;\n\t\t}`,`@media screen and (width <= ${i}) {\n\t\t\t${l} {\n\t\t\t\tflex-direction: ${s?"column-reverse":"column"} !important;\n\t\t\t\talign-items: stretch !important;\n\t\t\t}\n\t\t\t\n\t\t\t/* \n\t\t\t\twe increase specificity here to overwrite css added in columnRenderInEditor() \n\t\t\t\twe change flex-direction, so flex-basis (wich is used to provide width) has no sense any more   \n\t\t\t*/\n\t\t\t${l} > .wp-block-column.wp-block-column.wp-block-column {\n\t\t\t\tflex-basis: auto !important;\n\t\t\t\twidth: auto;\n\t\t\t\tflex-grow: 1;\n\t\t\t\talign-self: auto !important;\n\t\t\t}\n\t\t}`,`@media screen and (width > ${i}) {\n\t\t\t${l} > .wp-block-column {\n\t\t\t\tflex-basis: 0 !important;\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\n\t\t\t${l} > .wp-block-column[style*=flex-basis] {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}`]}(p,_)),[p,_]);(0,k.useAddCssToEditor)(P,w,_);const F=(0,b.PE)(f),$=(0,b.Zx)((e=>{var t,n;e.wpbbeResponsive&&(e.wpbbeResponsive?.settings||(e.wpbbeResponsive.settings={}),null!==(n=(t=e.wpbbeResponsive.settings).reverseOrder)&&void 0!==n||(t.reverseOrder=R)),e.isStackedOnMobile=!!e.wpbbeResponsive&&!(0,d.v6)(e.wpbbeResponsive?.breakpoint),f(e)})),A=(0,s.useSelect)((t=>t(e.store).getBlocks(_).length>0),[_]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n,{...c}),C&&A&&(0,m.sS)(_)&&(0,h.jsx)(e.InspectorControls,{children:(0,h.jsxs)(o.__experimentalToolsPanel,{label:(0,l.__)("Settings","better-block-editor"),className:"wpbbe wpbbe-responsiveness",resetAll:()=>{M(S,V),f({wpbbeResponsive:void 0,isStackedOnMobile:!0})},dropdownMenuProps:N,children:[O&&(0,h.jsx)(o.__experimentalToolsPanelItem,{label:(0,l.__)("Columns"),isShownByDefault:!0,hasValue:()=>S,onDeselect:()=>M(S,V),children:(0,h.jsxs)(o.__experimentalVStack,{spacing:4,children:[(0,h.jsx)(o.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,l.__)("Columns"),value:S,onChange:e=>M(S,Math.max(V,e)),min:Math.max(1,V),max:Math.max(6,S)}),S>6&&(0,h.jsx)(o.Notice,{status:"warning",isDismissible:!1,children:(0,l.__)("This column count exceeds the recommended amount and may cause visual breakage.")})]})}),(0,h.jsxs)(o.__experimentalToolsPanelItem,{label:(0,l.__)("Stack on","better-block-editor"),isShownByDefault:!0,hasValue:()=>!!p.wpbbeResponsive,onDeselect:()=>$({breakpoint:a.kX}),children:[(0,h.jsx)(a.xC,{label:(0,l.__)("Stack on","better-block-editor"),value:{breakpoint:B,breakpointCustomValue:j},onChange:$}),!(0,d.v6)(B)&&(0,h.jsx)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Reverse order","better-block-editor"),className:"wpbbe stack-on-reverse-order",checked:R,onChange:e=>F({reverseOrder:e})})]})]})})]})}),"extendBlockEdit"),j=(0,r.createHigherOrderComponent)((e=>t=>{const{className:n,clientId:o}=t;return C(t)?(0,h.jsx)(e,{...t,className:(0,p.T)(n,u.V+o)}):(0,h.jsx)(e,{...t})}),"columnsRenderInEditor"),R=(0,r.createHigherOrderComponent)((e=>t=>{if("core/column"!==t.name||!t?.attributes.width)return(0,h.jsx)(e,{...t});const n=u.V+t.clientId,o=`\n\t\t.wp-block-columns:not(.is-not-stacked-on-mobile) > .wp-block-column.${n}[style*=flex-basis] {\n\t\t\tflex-basis: ${t.attributes.width} !important;\n\t\t}\n\t\t`;return(0,k.useAddCssToEditor)(o,w,t.clientId),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(e,{...t,className:(0,p.T)(t.className,n)})})}),"columnRenderInEditor");(0,c.addFilter)("blocks.registerBlockType","wpbbe/columns/stack-on-responsive/modify-block-data",(function(e,t){return t!==_?e:{...e,attributes:{...e.attributes,wpbbeResponsive:{breakpoint:{type:"string"},breakpointCustomValue:{type:"string"},settings:{reverseOrder:{type:"boolean"}}}}}})),(0,c.addFilter)("editor.BlockEdit","wpbbe/columns/stack-on-responsive/edit-block",(0,m.L2)(C,B)),(0,c.addFilter)("editor.BlockListBlock","wpbbe/columns/stack-on-responsive/columns-render-in-editor",j),(0,c.addFilter)("editor.BlockListBlock","wpbbe/columns/stack-on-responsive/column-render-in-editor",R)})()})();