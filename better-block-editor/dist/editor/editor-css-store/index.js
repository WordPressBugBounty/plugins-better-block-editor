(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{useAddCssToEditor:()=>_,useAddEditorStyle:()=>o});var r={};e.r(r),e.d(r,{deleteStyle:()=>y,setStyle:()=>f});var n={};function o(e,t){const[r,n]=String(t).split("__");r&&n||console.error('Invalid identifier provided to useAddEditorStyle. Expected format: "featureName__clientId".'),_(e,r,n)}e.r(n),e.d(n,{getStyles:()=>b});const i=window.wp.data,c=window.wp.element,s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const u=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const l=function(e,t,r){if(s.randomUUID&&!t&&!e)return s.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!d){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");d=crypto.getRandomValues.bind(crypto)}return d(u)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(n)},p="wpbbe-block-editor-identifier";function f(e,t,r){return{type:"SET_STYLE",identifier:t,scope:e,style:r}}function y(e,t){return{type:"DELETE_STYLE",identifier:t,scope:e}}function b(e){return e.styles}const w={reducer:(0,i.combineReducers)({styles:function(e=new Map,t){const r=new Map(e);switch(t.type){case"SET_STYLE":return r.has(t.scope)||r.set(t.scope,new Map),r.get(t.scope).set(t.identifier,t.style),r;case"DELETE_STYLE":return r.has(t.scope)&&r.get(t.scope).delete(t.identifier),r}return e}}),selectors:n,actions:r},m=(0,i.createReduxStore)("wpbbe/block-editor",{...w});(0,i.register)(m);const g="wpbbe-style-sheet",S=new WeakMap;function _(e,t,r){(0,c.useLayoutEffect)((()=>{const{setStyle:n,deleteStyle:o}=(0,i.dispatch)(m),c=t+"__"+r,s=function(e){return function(){const e=Array.from(document.querySelectorAll(['iframe[name^="editor-canvas"]',".block-editor-inserter__preview-container__popover .block-editor-inserter__preview .block-editor-block-preview__content iframe",".block-editor-block-patterns-list .block-editor-block-preview__content iframe",".edit-site-page-content .block-editor-block-preview__content iframe"].join(",")));return e.length>0?e.map((e=>e.contentWindow.document)):[document]}().find((t=>!!t.getElementById("block-"+e)))}(r);if(!s)return;const d=function(e){let t=e[p];return t||(t=l(),e[p]=t),t}(s);if(!e||Array.isArray(e)&&0===e.length)o(d,c);else{const t=Array.isArray(e)?e:[e];n(d,c,t)}return h(v(s),E(d)),()=>{o(d,c),h(v(s),E(d))}}),[e,t,r])}function E(e){const t=(0,i.select)(m).getStyles().get(e)||new Map,r=[];for(const[,e]of t)Array.isArray(e)?r.push(...e):r.push(e);return r}function h(e,t){if(!e)return;const r=t.join("\n");S.get(e)!==r&&(S.set(e,r),e.textContent=r)}function v(e){let t=e.getElementById(g);return t||(t=e.createElement("style"),t.setAttribute("id",g),e.head.appendChild(t)),t}(window.wpbbe=window.wpbbe||{})["editor-css-store"]=t})();